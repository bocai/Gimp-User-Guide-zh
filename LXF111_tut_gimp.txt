翻译：李欣 (lixin.star3@gmail.com) 校对：陈嘉杰（linux.kakit@gmail.com）

Gimp 让你着迷的开源图形编辑软件
Gimp：走进Gimp
    大家都知道选择工具(Selection)吧？但是你到底有多了解它呢？这个月，Michael J Hammel被一些棘手的图像弄的很窘。

    如果蒙板是图像合成的心脏，选择工具就是给予它们生命的血液。对不了解的人来说，合成就是简单的把两张图片合并的过程。没有蒙板的话，合成效果不会比孩子们的图像拼贴高明多少，也许就像你从杂志或者报纸上剪下的图片一样。但是蒙板可不仅仅是把一张图片放在另一张图片的上面。蒙板和图层配合使用，能让你将图片无缝的合成起来，而不是简单的叠在一起。

    有很多创造蒙板的方法，一个好的选择区域能让制作出的效果事半功倍。选择区域的使用技巧就是让它与艺术结合起来。我们可以通过多种多样的选择工具，来制作出任何形状的选择区域，诸如盒子，皮毛等效果。

    在本节教程中我将会回顾选择工具的基础,并从一些较难的产品开始进行细致地讲解。我将会讲解提高选择工具使用技巧的方法，这样蒙板或者图层就可以更加无缝地于另一个图层结合。全修订版的Gimp 2.4版中提供了基础选择工具，而且还提供了更多友好的接口。矩形（Rectangle）和椭圆（Ellipse）的选择工具都用包括有交互式热点可以对选择区域进行编辑。围绕边界框移动鼠标——上、下、左、右和角落，来观察选中的区域。同时，注意那些你可进行拖拽进行选择区域方向修改的边界。

    在边界框的有效区域内可以选中所建立的选区，例如，当选项边界框显示后，你可以从工具箱（Toolbox）中托拽颜料盒到选择区域中来填充。然而，你也可能想要通过点击在选项里打点的描述或者敲击Enter键来完成选项编辑。通过移除边界框来预防对选项的过度编辑并完成选项。矩形和椭圆选项编辑是当使用边界框热点时来限制高度和宽度的。 

角落的框
    幸运的是，在最新版本的Gimp可以进行更多的编辑。2.4的发行版增加了变换你完成后的选项的功能。变换工具在工具箱（Toolbox）中（旋转（Rotate），测量（Sacle），剪切（Shear），透视（Perspective）和翻转（Flip））所有在每一张当前图层、有效选项边界或路径都支持变形。这意味着你可以创造一个自由选择（Free Select）（套索）工具的选项，并且当选项使用透视（Perspective）工具时可以增加透视图。但是在这里要注意，变形工具肯定是被配置为在选择工具（Tool Options）对话框中点击选项按钮时才对选项起作用。

    这些出现在选择工具（Tool Options）对话框中的所有变形工具的变形按钮，提供相反于原图的变形（第一个按钮），当前选项（第二个按钮）或者当前有效路径（第三个按钮）。在请求这些变形之前确定设置这些选项。

（页底）上个月我们把单词和图片放在一起，摆成像一匹马和马车的样子。

选项

    在上面这个例子里（向日葵）我只想选择那些花。通常我可能使用按颜色选择（Select By Color）来选择天空然后反置选项。但是在图片的右下角混合着花和云的地方，天空被模糊的云充满。幸运的是，我可以用花替代天空来开始。

    从工具箱（Toolbox）选择按颜色选择（Select By Color）工具，我设置选择（‘Select By’）条目为色调（‘Hue’）然后点击花上面的任意黄色部分（不需要托拽——仅仅是点击）。这个选项描述了花的大概轮廓但是留下了一些种子没有选择。因为花轮廓的描述是为选项提供一个边界区域，所有的这些都必须添加上自由选择（Free Select）。

    留下当前完好无损的选项，我从工具箱里选择自由选择（Free Select）工具。我确保在选项工具（Tool Options）（模式（Mode）列的左边第二个）对话框里的添加模式（Add Mode）是开启的，然后我在种子和花的周围画一个自由选择（freehand）选项，在画布外必要的地方托拽鼠标。

主题隔离
    选项的要点是把主题从图片中剥离。你怎样做大部分取决于原始图像。凌乱的背景让这个过程更加困难，但不是不可能。对付这种类型图片的技巧就是使用更加复杂的工具和方法。模糊选择（Fuzzy Select）工具，有时等同魔杖，用起来很像按颜色选择（Select By Color）工具，而且处理固体或接近固体彩色背景的图片会更好。事实上，使用起来简单的就像按颜色选择（Select By Color）工具来选择花一样，模糊选择（Fuzzy Select）工具可以使用仅仅一个拖拽来选择花。

    从工具箱（Toolbox）里选择模糊选择（Fuzzy Select）工具，然后点击并且缓慢拖拽图片中的天空（天空，不是花！）。当你托拽的时候，选项会一直扩展直到完全选中了天空。现在反置选项（选择（Select）>转置（Invert））来选择花。由于色调的差异，在不同的图片中选项是极其精确的。

    有时主题和背景的边界是非常明显的。当你创造了一条路径时，可以用一系列转折点来描述主题的轮廓，在这种情况下可以用裁剪（Scissors）工具。这个过程会需要更多的工作但是可以非常详细的描述出主题的轮廓，并且更重要的是，在转换路径成为选项之前，允许你移动转折点来编辑轮廓 。

聪明的裁剪
    裁剪（Scissors）工具通过搜寻在你点击地点周围的边界来工作，转折点被放置在新转折点和旧转折点之间的曲线绘制边缘。一旦你绘制了主题的轮廓，你在路径里面点击后你就创造了它，使它成为一个选项。另外，你可以使用路径来创造一个相同的选项。这对于路径的好处是它存在于它自己的对话框（就像图层（Layers）对话框），这样稍后你就可以编辑路径来修改你的选项。

    尽管展示到这，路径仍没有存在于画布里——路径仅仅存在于路径（Paths）对话框。为了让它在画布里显示，你需要敲击它（在当前图片的图层）或者转换它成为一个选项。两个选择都可以在工具选项（Tool Options）对话框中的Paths（路径）工具中获得。

    最新添加到Gimp中的选项收集是前景选择（Foreground Select）工具，这个工具是内建智能的，就像裁剪（Scissors），但是它更易于使用。当从工具箱（Toolbox）中选择了它时，前景选择（Foreground Select）工具就会把光标变为套索。用这个来绘制一个粗糙的主题轮廓。在例子的右上角我围绕构建画了一条线，托拽左边外面的画布然后从右边重新进入。轮廓是非常粗糙的椭圆并且包括一些背景。

（页底）如果你错过了上一篇文章，致电08708374773或者+441858438795

    一旦套索选项完成，前景选择（Foreground Select）给未选择的蓝背景染色。当套索操作完成后，在一个圆形的提示下光标变为画笔。你可以增加选项工具（Tool Options）中提示的尺寸（如果你处理一张大图时，这是必要的一步，因为默认刷子的大小是最适合于网页大小图片，相反于打印大小的图片）。现在，点击在前景主题并且拖动光标来画一条穿过前景主题的线。这条线应该覆盖一组可以非常好的展示前景主题颜色的像素。一旦你释放了光标按钮，前景选择(Foreground Select)工具就开始计算前景主题的大致轮廓。为了完成选项，敲击Enter键，你将看到在选项周围的行军蚂蚁线。

    前景选项(Foreground Select)有用的地方是用户可以简单的制造选项——你所需要的是一个粗糙的轮廓和刷头触点。前景选项(Foreground Select)的缺点是当刷头非常大的时候刷子触感的响应是非常慢的。尽管这样，前景选项(Foreground Select)在用户投入很少的精力下可以创造出极其精确的选项。

替代方法
    复杂选项总是包含头发，皮毛或者其他非常细的线。甚至连一些非常先进的选项工具本身都不能做出这些选项。你需要组合使用工具或者使用一点都不用选项的专业的蒙板技术。

    让我们在一张复杂一点的图片上尝试前景选择(Foreground Select)——一组放在网球拍线上的网球（右下）。这张图更加复杂是因为这些网球并没有接触——它的像素不能像之前完成的那个例子那样连续选择。更糟的是，球拍的边缘也是黄色。幸运的是，我们可以用多个工具来隔离这些网球。第一步，我用前景选择(Foreground Select)套索操作来描述网球的轮廓。尽力尽可能少的包括球拍。通过三个网球，我画出了我的前景选项线。这仅仅是做好了选择网球的工作，但是也得到一些网球线同时留下了一些印在临近球上的文字。

    现在我关掉了选项工具(Tool Options)中的连续(Contiguous)按钮。然后我在那些球不同的区域画了前景选项线，就像黑色的文字。这些精炼了许多前景选项(Foreground Selection)，但是还剩下很多工作要做。

    接下来我转到选择背景(Select Background)，并且沿着球拍线上那些球的边界画。我把这个区域放大是为了更方便看这些区域。放大不会改变刷头尺寸的大小，所以一个小的刷头就会像这样更好的工作。我缩小区域然后敲击Enter键把它转换为一个选项。这样我就可以看到真正的选项有多么的可怜。唯一的选择就是我必须用快速蒙板（Quick Mask）清理它。

    快速蒙板（Quick Mask）工作起来和前景选择(Foreground Select)非常像。当你启用它的时候快速蒙板（Quick Mask）按钮是一个方形的按钮，它在图片窗口的左下方）任何在选项外面的事物都被染为红色。红色是默认的颜色——右击快速蒙板（Quick Mask）按钮来变换不同的颜色，尽管当处理黄色网球时出现红色是非常好的。

    接下来你从工具箱（Toolbox）里选择一个画具。画笔（Paintbrush）是非常理想的，连同使用一个软边刷，就像Gimp默认设置中的一些圆形模糊（Circle Fuzzy）刷子。快速蒙板（Quick Mask）的软边刷工作时就像一个羽化选项。如果你非要选择硬边刷，那你可以稍后羽化结果选项（使用选择（Select）>羽化（Feather））。

    现在我们用白色简单的漆完了这些球，把它们增加到选项。当使用快速蒙板（Quick Mask）时，白色的漆将使蒙板被删除（你不会真正看到白漆）同时黑漆将曾加到蒙板上（你看到蒙板被染色增加到你漆的地方）。我用白漆漆完这些基础球的轮廓然后转为黑漆来删除那些我不想包括在选项中的区域。用快速蒙板（Quick Mask）可以放大图片，使用一个非常小的刷子，然后手动的在一张图中选择较好的皮毛或头发。这是一个非常劳动密集的过程，然而，期待一个高端的图像产品，你可能不需要做这些——只是很高兴知道你可以。一旦我在快速蒙板（Quick Mask）完成了油漆，我会再一次点击快速蒙板（Quick Mask）按钮来转回到一个真正的选项。

角落事例
    最后，我们不得不考虑这些简单到不需要组合基础选项工具的图片。在这种情况下，图片需要被手动操纵。举个例子，带有学术前瞻性的看上面这条狗。一些前景选择（Foreground Select）的通路显示这些简单的工具不经过重编辑将不会工作。因为计算时间需要每一个新的拖拽来增加前景主题，经过广泛的调整，这个过程变得过度消耗时间。

    一个简单的解决方法是找到一个最好的对比并且使用起来就像起点是为了创造一个蒙板的频道。打开频道对话框然后通过点击它们的可视图标关掉所有频道，然后返回找到一个最好的对比。对于这张图片，应该是绿色频道。右击这个频道然后选择复制频道（Duplicate Channel）。这个频道的副本被添加在列表的下面。点击可视图表（左边缩略图上的眼球）来调整复制频道可见度。

    我们将使用复制频道创造一个图层蒙板来隔离我们友好的狗。在图层对话框中，关掉背景（仅有的）图层可见度。现在你可以看到频道本身，非常像一个不饱和的狗的图层版本。当在频道（Channels）对话框里点击频道时它是有效的，然后打开等级（Levels）对话框。调整滑动条直到你得到最佳的狗的轮廓——不用担心里面的狗，稍后我们将会添加它。

    我们不需要边缘周围额外的碎屑，所以我们可以直接在频道里把它们漆成白色。但是我们到现在还没有一个精确的狗的轮廓，所以我们现在还不能把里面漆成黑色。处理这种情况的方法是复制频道（选择（Select）>全部（All），编辑（Edit）>复制（Copy）），返回到图层（Layers）对话框然后点击背景图层使它有效，然后复制到图片窗口（编辑（Edit）>粘贴（Paste））。在图层（Layers）对话框固定住这些选项（图层(Layer)>新建(New)）。

    现在我们可以通过减少它的透明度来编辑这些新的图层（在图层(Layers)对话框中移动透明度(Opacity)滑条至25.0），然后沿着现存的没有黑色的图层的狗的边缘仔细的画一条黑色的线。我放大这部分用来看到更多干净的边缘，然后使用一个非常小的带有硬边缘的铅笔(Pencil)工具的刷头。一旦轮廓关闭，我们可以使用模糊选择(Fuzzy Select)工具来选择大多数白色的地方，扩大一点像素选项然后用黑色填充它。然后我们用画笔手动的清理图片剩下的地方。

    我们可以复制在新的图层中被黑色填充的狗的轮廓到蒙板的原始层。点击狗的图层让它有效，然后给它增加一个图层遮蒙板（图层(Layer)>蒙板(Mask)>增加图层蒙板(Add Layer Mask)）。在图层(Layers)对话框中点击那个新的带有黑色狗的轮廓的图层让它成为有效的图层。复制它（编辑（Edit）>复制（Copy））,然后点击狗的蒙板层——确保在图层（Layers）对话框中点击蒙板本身！把复制品粘贴到蒙板上（图层（Layer）>粘贴（Paste））然后固定住它（图层（Layer）>锚（Anchor））。黑色在蒙板里面代表透明，所以在蒙板里转化颜色（颜色（Colors）>转置（Invet））。这时也要向蒙板提交一个轻微模糊化（过滤（Filters）>模糊（Blur）>高斯模糊（Gaussian Blur）,大约5个像素）。现在你应该有一个好的狗的轮廓了。我还要增加一个绿色的背景，这样我就可以看到结果了。从这创造一个选项，仅仅是转换蒙板成为一个选项（图层（Layer）>蒙板（Mask）> 选择蒙板（Mask to Selection））。

全部是关于选择的
    你使用的工具和技术大部分取决于源图片。高对比度的图片用基础工具就可以处理的很好。用模糊选择（Fuzzy Select），按颜色选择（Select By Colour）和前景选择（Foreground Select）可以很好的处理前景和背景主题巨大的色调差异。混合在背景里的主题，沿着边缘或者位于忙碌前面有许多很好的线，多彩的背景需要使用组合工具来做更多的工作，对图层（Levels）和明亮度/对比度（Brightness/Contrast）稍作调整来创造一个合适的蒙板。

    最后，最好的效果是大量的试验和错误。如果那对所有选项来说是神奇的子弹，Gimp将拥有它。幸运的是，我们在Gimp工具箱中有大量的工具使我们的选项实验迅速而且无碍。

画笔技巧
    Gimp中常用刷头的尺寸是相当稳定的。你可以复制它们来编辑尺寸和形状，但是我发现在我工作的任何过程中，手动重复编辑创造一个新的刷头是非常简单的。在刷（Brushes）对话框按钮栏中找到新建刷（New Brush）按钮来创造一个新的刷头。

（页底）下个月我们将看到如何将你的工作从Gimp中搬到纸上



（插话）当边框显示的时候你可以托拽热点来编辑这个选项。
（插话）组合一个按颜色选择（color-based）选项和一个自由选择（free hand）选项，不需要任何精细的工作来创造。
（插话）为模糊选择（Fuzzy Select）设置选项（Select By）菜单为色调（Hue），让工具可以检测出天空和花之间色调的差异。
（插话）当你使用裁剪(Scissors)工具时，转折点之间的曲线是参差不齐的。所以用这个路线选项更好。
（插话）套索选项仅仅提供一个初始选项，前景选项(Foreground Select)将在余下的步骤中改进。
（插话）快速蒙板（Quick Mask）让你有选择的油漆这些区域（或不加挑选的）。软边刷将使选项羽化。
（插话）绿色的频道是为这张图片选择的，尽管在这张图中，红色也许可以同样起很好的效果。
（插话）这要花费更多的经理来获得这个选项，但是结果并不理想。

